function LoadCombo_Template(n,t,i){$.ajax({url:n,dataType:"json",type:"POST",data:JSON.stringify({}),contentType:"application/json; charset=utf-8","async":!0,error:function(){notiError()},success:function(n){if(n.d!=""){let r=JSON.parse(n.d);Load_Combo(r,t,!0);$("#"+t).parent().dropdown("refresh");$("#"+t).parent().dropdown("set selected",r[0].ID);i()}}})}function LoadRow_Master(n,t,i){$.ajax({url:n,dataType:"json",type:"POST",data:t,contentType:"application/json; charset=utf-8","async":!0,error:function(){notiError()},success:function(n){if(n.d!=""){let t=JSON.parse(n.d);i(t)}else notiError()}})}function Render_Row(n,t){var r=document.getElementById(t),i;if(r!=null){r.innerHTML="";let u="";if(n&&n.length>0)for(i=0;i<n.length;i++){let t=n[i],r='<td style="display:none !important">'+t.ID+'<\/td><td style="text-align:center">'+(i+1)+'<\/td><td><span class="code">'+t.ServiceCode+'<\/span><span class="name">'+t.ServiceName+'<\/span><span class="amount">'+formatNumber(t.Amount)+'<\/span><\/td><td class="print_button_choose text-center" ><div class="form-check form-check-inline mx-0"><input type="checkbox" title='+t.ID+' class="row_to_print form-check-input" checked/><label class="coloring red"><\/label><\/div><\/td>';u=u+'<tr role="row">'+r+"<\/tr>"}document.getElementById(t).innerHTML=u}}function Render_Treatment(n,t){var r=document.getElementById(t),i;if(r!=null){r.innerHTML="";let u="";if(n&&n.length>0)for(i=0;i<n.length;i++){let t=n[i],r=t.DocName+" : ("+t.ServiceName+") "+t.Content_Follow;u+=r+" \n"}document.getElementById(t).innerHTML=u}}function Detail_Template(n,t,i){$.ajax({url:n,dataType:"json",type:"POST",data:JSON.stringify({id:t}),contentType:"application/json; charset=utf-8","async":!0,error:function(){notiError()},success:function(n){if(n.d!="[]"){let t=JSON.parse(n.d);i(t)}}})}function Render_Template(n,t,r,u,f){let e="",o="",s="",h="";for(i=0;i<n.length;i++){e="";let u=JSON.parse(n[i].Value),r=n[i].Class!=""?n[i].Class:"content",f=Render_Template_Border(n[i].BorderTop,n[i].BorderLeft,n[i].BorderBottom,n[i].BorderRight),c="display: flex ;"+(n[i].Padding.trim()!=""?"padding:"+n[i].Padding.trim()+";":"padding:auto;")+(n[i].Margin.trim()!=""?"margin:"+n[i].Margin.trim()+";":"margin:auto;");if(n[i].Table!=0&&(r=r+" fix"),e='<div   id="r_'+n[i].ID+'" class="'+r+'" style="'+c+f+'">',n[i].Table==1)e=e+Render_Template_Table(u,t),tableid=n[i].ID;else for(j=0;j<Object.keys(u).length;j++){let n=u[j];n!=undefined&&(e=e+Render_Template_group(n,t))}e=e+"<\/div>";r.includes("header")&&(o=o+e);r.includes("content")&&(s=s+e);r.includes("footer")&&(h=h+e)}$("#"+r).html(o);$("#"+u).html(s);$("#"+f).html(h)}function Render_Template_group(n,t){let u=n.data.slice(0,-1).split(","),i=[];for(s=0;s<u.length;s++){let r=u[s],n=t.filter(function(n){return n.ID==r?!0:!1});n.length>0&&i.push(n[0])}let r='<div style="'+n.style+'">';for(k=0;k<i.length;k++)r=r+i[k].Element;return r+"<\/div>"}function Render_Template_Table(n,t){pf_cols_table=[];let i="";for(j=0;j<Object.keys(n).length;j++){let r=n[j];if(r!=undefined){let n=t.filter(n=>n.ID==r.data.replace(",",""));n!=undefined&&n.length!=0&&(i=i+n[0].Element,pf_cols_table.push(n[0]))}}return i}function Render_Template_Border(n,t,i,r){let u="";return u=u+(n!=""?"border-top:"+n+";":""),u=u+(t!=""?"border-left:"+t+";":""),u=u+(i!=""?"border-bottom:"+i+";":""),u=u+(r!=""?"border-right:"+r+";":""),u!=""?u:""}function Fill_Data_Element(n,t){if(n!=undefined)for(i=0;i<n.length;i++)if(elm=n[i],document.getElementById(elm.Name)!=undefined)switch(elm.Type){case"img":t[elm.Name]!=undefined&&document.getElementById(elm.Name).setAttribute("src",t[elm.Name]);break;default:t[elm.Name]!=undefined&&(elm.Name=="Phone"?($("#"+elm.Name).html(t[elm.Name]),$("#"+elm.Name).attr("data-tab","phone_customer"),$("#"+elm.Name).addClass("_tab_control_")):$("#"+elm.Name).html(t[elm.Name]))}$(".barcode")&&JsBarcode(".barcode").init()}function Fill_Data_Row(n,t,i){if($(".rowtable").remove(),n!=0&&i&&i.length>0&&t!=undefined&&t.length!=0){let i=$("#r_"+n);for(let n=t.length-1;n>=0;n--){let r=i.clone();r[0]!=undefined&&(r[0].id=r[0].id+"_data_"+n,r[0].className="content rowtable");let u=r.children();for(ii=0;ii<u.length;ii++){let i=u[ii].id;t[n][i]!=undefined&&(u[ii].innerHTML=t[n][i])}i.after(r)}}}function Paging_Form(n,t,r,u,f,e){try{let h=$("#"+t),a=Convert_PX_To_MM(parseInt(h.css("paddingTop"))),v=Convert_PX_To_MM(parseInt(h.css("paddingBottom"))),o=$("#"+u),y=Convert_PX_To_MM(o.height()),p=Convert_PX_To_MM(parseInt(o.css("paddingTop"))),w=Convert_PX_To_MM(parseInt(o.css("paddingBottom"))),s=$("#"+e),b=Convert_PX_To_MM(s.height()),k=Convert_PX_To_MM(parseInt(s.css("paddingTop"))),d=Convert_PX_To_MM(parseInt(s.css("paddingBottom"))),l=$("#"+f),g=Convert_PX_To_MM(parseInt(l.css("paddingTop"))),nt=Convert_PX_To_MM(parseInt(l.css("paddingBottom"))),c=$("#r_"+n);if(c!=undefined){let n=Convert_PX_To_MM(h.height())-y-b-p-w-k-d-g-nt-a-v;if(n>0){let e=[],u=1,h=0,l=0,f=$(".content");for(i=0;i<f.length;i++)f[i].className.includes("fix")||(l=l+Convert_PX_To_MM(Number($("#"+f[i].id).height())),l>=n-5&&(h=h+Convert_PX_To_MM(Number($("#"+f[i].id).height())),h>n-5&&(u=u+1,Paging_Form_Generate(r,t,o.clone(),s.clone(),c.clone(),e,u),e=[],h=0),e.push($("#"+f[i].id).clone()),$("#"+f[i].id).remove()));u=u+1;Paging_Form_Generate(r,t,o.clone(),s.clone(),c.clone(),e,u)}}}catch(o){}}function Paging_Form_Generate(n,t,i,r,u,f,e){let o=$("#"+t).clone();for(o.id=t+"_"+e,o.empty(),o.append(i),ii=0;ii<f.length;ii++)o.append(f[ii]);o.append(r);$("#"+n).append(o)}function fn_Print(n,t,i){try{let r=["/Print/print.css","/assests/dist/FontAwesome/css/all.min.css","/Print/softui.css","/css/root_element_grid.css"];for(let n=0;n<r.length;n++)r[n]=r[n]+"?ver="+(new Date).getTime();let u=$("#printf_copy").val()!=""&&Number($("#printf_copy").val()).toFixed(0)>0?Number($("#printf_copy").val()).toFixed(0):"1";$("#"+n).printThis({loadCSS:r,canvas:!0,importCSS:!0,numCopyPage:u,beforePrint:function(){t!=undefined&&t()},afterPrint:function(){i!=undefined&&i()}})}catch(r){}}(function(){js_require("/js/comon/Formatnumber.js");js_require("/js/comon/Other.js");js_require_notasync("/js/comon/Combo_v2.js");js_require("/assests/dist/Barcode/JsBarcode.code128.min.js");js_require("/js/comon/initialize_setting.js");js_require("/js/comon/permission_tabcontrol.js")})();