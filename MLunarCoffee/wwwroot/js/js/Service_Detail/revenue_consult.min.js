function SRE_Con_AddRevenue(){let n={},t=(new Date).getTime();return n.EmployeeID=0,n.ReAmount=0,n.RePer=0,Sre_DataMain_Con[t]=n,SRE_Con_RenderRow(t,n,"sre_con_list"),t}async function SRE_Con_RenderRow(n,t,i){return new Promise(r=>{setTimeout(()=>{var u=document.getElementById(i);if(u!=null){let t="<li id=sre_row_"+n+' data-id="'+n+'" class=" row row-add border-dashed border-1 position-relative border-secondary border-radius-lg pb-3  border-0 d-flex justify-content-between ps-0 mb-1 border-radius-lg ">'+(' <i data-id="'+n+'" class="opacity-2 position-absolute buttonDeleteClass cursor-pointer text-gradient text-danger vtt-icon vttech-icon-delete" style="width: 40px;right: 6px;top:0;"><\/i> ')+'<div class="row col-12 w-100 mx-0"><div class="col-12 col-md-6 px-1 mt-2"><label>'+Outlang.Nhan_vien+"<\/label>"+SRE_Con_RenderRow_AddEmployee(n)+'<\/div><div class="col-12 col-md-3 px-1 mt-2"><label>'+Outlang.Sys_tien_mat+'<\/label><input id="sre_conamount_'+n+'" value="0" type="text" class="sre_conamount fw-bold form-control d-block"><\/div><div class="col-12 col-md-3 px-1 mt-2"><label>'+Outlang.Phan_tram+'<\/label><input id="sre_conpercent_'+n+'" value="0" type="text" class="sre_conpercent fw-bold form-control d-block"><\/div><\/div><\/li>';u.insertAdjacentHTML("beforeend",t)}SRE_Con_FillData(n,t);SRE_Con_EventRow(n);r()},10)})}function SRE_Con_RenderRow_AddEmployee(n){let t='<div class="ui fluid search selection dropdown sre_con form-control" id="sre_con_'+n+'"><input type="hidden"/><input class="search" autocomplete="off" tabindex="0" /><div class="default text">eg .'+Outlang.Nhan_vien+'<\/div><div id="cbbsre_con_'+n+'" class="menu" tabindex="-1">';return t+"<\/div><\/div>"}async function SRE_Con_FillData(n,t){return new Promise(i=>{Load_Combo(Object.values(Sre_DataEmployee),"cbbsre_con_"+n,!0),$("#sre_con_"+n).dropdown("refresh"),$("#sre_con_"+n).dropdown("set selected",t.EmployeeID),$("#sre_conamount_"+n).val(t.ReAmount),$("#sre_conpercent_"+n).val(t.RePer),i()})}function SRE_Con_EventRow(n){$("#sre_con_list #sre_conamount_"+n).divide();$("#sre_con_list #sre_conpercent_"+n).divide();$("#sre_con_list #sre_row_"+n+".ui.dropdown").dropdown({allowCategorySelection:!0,forceSelection:!1,transition:"fade up"});$("#sre_con_list #sre_row_"+n+" .sre_con").unbind("change").change(function(){if(Sre_FlagChange!=0){let n=this.id,t=n.replace("sre_con_","");Sre_DataMain_Con[t].EmployeeID=Number($("#"+n).dropdown("get value"))?Number($("#"+n).dropdown("get value")):0}});$("#sre_con_list #sre_row_"+n+" .sre_conamount").unbind("change").change(function(){if(Sre_FlagChange!=0){Sre_FlagChange=0;let i=this.id.replace("sre_conamount_",""),t=Number($(this).val());(isNaN(t)||t<0)&&($(this).val(0),t=0);$("#sre_conpercent_"+n).val(0);Sre_DataMain_Con[i].ReAmount=t;Sre_DataMain_Con[i].RePer=0;Sre_FlagChange=1}});$("#sre_con_list #sre_row_"+n+" .sre_conpercent").unbind("change").change(function(){if(Sre_FlagChange!=0){Sre_FlagChange=0;let i=this.id.replace("sre_conpercent_",""),t=Number($(this).val());(isNaN(t)||t<0||t>100)&&($(this).val(0),t=0);$("#sre_conamount_"+n).val(0);Sre_DataMain_Con[i].ReAmount=0;Sre_DataMain_Con[i].RePer=t;Sre_FlagChange=1}});$("#sre_con_list #sre_row_"+n+" .buttonDeleteClass").on("click",function(n){let t=$(this).attr("data-id");delete Sre_DataMain_Con[t];$("#sre_row_"+t).remove();n.stopPropagation()})}