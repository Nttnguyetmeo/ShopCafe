function Treatment_Plan_Compare_Service(){let n=$("#Compare_Service_TreatmentPlan").attr("data-type");n=="nocompare"?(Treatment_Plant_Prepare_Compare(),ser_Treatment_Plan_Comparing=1):(Treatment_Plant_Done_Compare(),ser_Treatment_Plan_Comparing=0)}function Treatment_Plan_Compare_Event(){let n=document.getElementsByClassName("Compare_treatment_plan"),t=[],i="";if(n!=undefined&&n.length!=0)for(_i=0;_i<n.length;_i++)_id=n[_i].dataset.id,n[_i].checked?(_e={},_e.id=_id,t.push(_e),i=i+","+_id,$("#treatment_plan_"+_id).length&&!$("#treatment_plan_"+_id).hasClass("recordcompareselected_plan")&&$("#treatment_plan_"+_id).addClass("recordcompareselected_plan")):$("#treatment_plan_"+_id).length&&$("#treatment_plan_"+_id).hasClass("recordcompareselected_plan")&&$("#treatment_plan_"+_id).removeClass("recordcompareselected_plan");t.length>1?Treatment_Plan_Compare_Executing(t,i):Treatment_Plan_Compare_Executing_Clear()}function Treatment_Plan_Compare_Executing(n,t){AjaxLoad(url="/Customer/Service/TabList/TabList_Service/?handler=Load_Treatment_Plan_Compare",data={CustomerID:ser_MainCustomerID,treatment_plan:t},async=!0,error=function(){notiError_SW()},success=function(t){let i=JSON.parse(t);i!=undefined&&Treatment_Plant_Compare_Render(n,i,"TabList_Compare_Treatment_Plan")})}function Treatment_Plan_Compare_Executing_Clear(){$("#TabList_Compare_Treatment_Plan").empty()}function Treatment_Plant_Compare_Render(n,t,i){var u=document.getElementById(i);let r="";if(u!=null)for(u.innerHTML="",k=0;k<n.length;k++){let u=n[k].id,i=t.filter(n=>Number(n.PlanID)==Number(u));if(i!=undefined&&i.length!=0){let n=i[0].PlanName,t=formatNumber(i[0].TotalPrice),f=formatNumber(i[0].TotalIni),e=formatNumber(i[0].TotalDis);r=r+'<div class="column" style="min-width:500px;"><div class="ui segments "><div class="ui segment compare_treat_header"><h5 class="ui header" style="color: #0a406d;font-size: 14px;margin: auto;">'+n+'<\/h5><\/div><div class="ui segment compare_treatment_plan_column">'+Treatment_Plant_Compare_Render_Each_Service(i)+'<\/div><div class="ui segment compare_treat_footer">'+Treatment_Plant_Compare_Render_Footer(f,e,t,u)+"<\/div><\/div><\/div>"}}document.getElementById(i).innerHTML='<div class="ui equal width left aligned padded grid stackable"><div class="row compare_treatment_plan_content">'+r+"<\/div><\/div>";Treatment_Plant_Compare_Choosing_Service_Event()}function Treatment_Plant_Compare_Render_Each_Service(n){let t="";for(_k=0;_k<n.length;_k++)_td='<td><div class="ui checkbox" style="margin: 5px;transform: scale(1.23);"><input type="checkbox" data-price="'+n[_k].Price+'" data-priceini="'+n[_k].PriceIni+'" data-tab="'+n[_k].TabID+'"   data-plan="'+n[_k].PlanID+'" class="compare_choosing_service" checked><label class="coloring red"><\/label><\/div><\/td><td><span class="compare_treat_ser">'+n[_k].ServiceName+'<\/span><span class="compare_treat_teeth"><\/span><span class="compare_treat_unitprice">'+n[_k].Quantity+" x "+formatNumber(n[_k].UnitPrice)+'<\/span><\/td><td><span class="compare_treat_ini">'+formatNumber(n[_k].PriceIni)+'<\/span><span class="compare_treat_dis"> - '+formatNumber(Number(n[_k].PriceIni)-Number(n[_k].Price))+'<\/span><\/td><td><span class="compare_treat_final">'+formatNumber(n[_k].Price)+"<\/span><\/td>",t=t+'<tr role="row">'+_td+"<\/tr>";return' <table class="ui selectable celled table accordion nosortwholetable"><thead class="hiddenCollapse"><tr role="row"><th style="max-width:50px;min-width:50px;"><\/th><th>Dịch Vụ<\/th><th>Giảm<\/th><th style="max-width:150px;min-width:150px;">Thành Tiền<\/th><\/tr><\/thead><tbody>'+t+"<\/tbody><\/table>"}function Treatment_Plant_Compare_Render_Footer(n,t,i,r){return'<span id="compare_treat_total_ini_'+r+'" class="compare_treat_total_ini">'+n+'<\/span><span id="compare_treat_total_dis_'+r+'" class="compare_treat_total_dis"> - '+t+'<\/span><div class="compare_total_line"><\/div><span id="compare_treat_total_final'+r+'" class="compare_treat_total_final">'+i+"<\/span>"}function Treatment_Plant_Compare_Choosing_Service_Event(){$(".compare_choosing_service").on("click",function(){let i=Number($(this).attr("data-tab")),t=Number($(this).attr("data-plan")),n=document.getElementsByClassName("compare_choosing_service");if(n!=undefined&&n.length!=0){let i=0,r=0;for(_i=0;_i<n.length;_i++)n[_i].checked&&Number(n[_i].dataset.plan)==t&&(i=i+Number(n[_i].dataset.price),r=r+Number(n[_i].dataset.priceini));$("#compare_treat_total_ini_"+t).html(formatNumber(r));$("#compare_treat_total_final"+t).html(formatNumber(i));$("#compare_treat_total_dis_"+t).html(formatNumber(r-i))}})}