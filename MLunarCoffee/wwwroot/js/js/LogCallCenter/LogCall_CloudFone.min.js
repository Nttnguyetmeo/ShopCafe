function AllLog_CloudFone(n,t,i,r,u,f,e,o){var c=[],l=[],a=[],h,s;for(e!=""&&(l=LogCall_CloudFone(n,t,i,r,u,f,"1",e,o),a=LogCall_CloudFone(n,t,i,r,u,f,"2",e,o)),h=$.merge(l,a),s=0;s<h.length;s++){let t={},n=h[s];t.from=formatHTML(n.soGoiDen);t.to=n.soNhan;t.direction=n.typecall!=null?n.typecall:"";t.duration=n.thoiGianThucGoi;t.state=n.trangThai;t.recordUrl=n.linkFile!=""?n.linkFile:"null";t.start=n.ngayGoi.replace("T"," ");t.status=n.trangThai=="ANSWERED"?"SUCCESS":"";c.push(t)}return c}function LogCall_CloudFone(n,t,i,r,u,f,e,o,s){let h,c=n+"/api/CloudFone/GetCallHistory",l=DateFormat(u)+" 00:00:00",a=DateFormat(f)+" 23:59:59",v=e=="1"?o:"",y=e=="2"?o:"";return $.ajax({url:c,type:"POST",data:JSON.stringify({ServiceName:t,AuthUser:i,AuthKey:r,TypeGet:0,DateStart:l,DateEnd:a,CallNum:v,ReceiveNum:y,Key:"",PageIndex:s,PageSize:200}),contentType:"application/json","async":!1,error:function(n,t,i){console.log(n);console.log(t);console.log(i);notiError_SW()},success:function(n){let t=n.data;h=t!=null&&t.length>0?t:[]}}),h}