function Face_Exchange_Create_Mess_To_Top(n,t){let i=Face_Render_Conversation_List_Each(n,t);$("#MessengerArea_List").prepend(i);Face_Get_Name_Client()}function Face_Exchange_Move_Mess_To_Top(n){$("#"+n).length&&($("#"+n).prependTo("#MessengerArea_List"),$("#_snipTime_"+n).html(ConvertDateTimeUTC_NoYear(new Date)))}function Face_Exchange_Update_Item_Update_Person_Do(n,t,i,r,u){face_value_selected_page_string.includes(t)?($("#smallavatar_client_"+n).hide(),$("#smallavatar_page_"+n).show()):($("#smallavatar_client_"+n).show(),$("#smallavatar_page_"+n).hide());let f,e="";switch(i){case"text":f=r.length>30?r.substring(0,30):r;e="/assests/img/Face/more_16.png";break;case"image":f="";e=u;break;case"audio":f="Sending a audio";e="/assests/img/Face/audio_16.png";break;case"video":f="Sending a video";e="/assests/img/Face/video_16.png";break;default:f="Sending a file";e="/assests/img/Face/file_16.png"}$("#_text_snippet_"+n).html(f);$("#_img_snippet_"+n).attr("src",e)}function Face_Exchange_Update_Item_Update_Person_Do_Comment(n,t,i){face_value_selected_page_string.includes(t)?($("#smallavatar_client_"+n).hide(),$("#smallavatar_page_"+n).show()):($("#smallavatar_client_"+n).show(),$("#smallavatar_page_"+n).hide());snippet=i!=undefined?i.length>30?i.substring(0,30):i:"New comment";$("#_text_snippet_"+n).html(snippet)}function Face_Exchange_Move_Mess_To_Top_Temporary(n){$("#"+n).length&&($("#"+n).prependTo("#MessengerArea_List"),$("#_snipTime_"+n).html(ConvertDateTimeUTC_NoYear(new Date)))}function Face_Trigger_Click(n){$("#"+n).length&&($("#"+n).trigger("click"),Face_Css_When_Click(n))}function Face_Css_When_Click(n){let t=document.getElementsByClassName("messegerItem");if(t!=undefined)for(i=0;i<t.length;i++)t[i].className.includes("activeitemface")&&(t[i].className=t[i].className.replace("activeitemface",""));let r=document.getElementsByClassName("messegerCommentItem");if(r!=undefined)for(i=0;i<r.length;i++)r[i].className.includes("activeitemface")&&(r[i].className=r[i].className.replace("activeitemface",""));$("#"+n).addClass("activeitemface")}function Face_Exchange_Update_Item_Unread_To_Read(n){$("#"+n).hasClass("newMessage")&&$("#"+n).removeClass("newMessage")}function Face_Exchange_Update_Item_Read_To_Unread(n){$("#"+n).hasClass("newMessage")||$("#"+n).addClass("newMessage")}function Face_Update_Read_To_Unread(){AjaxLoad(url="/Facebook/Messenger/?handler=Face_Make_Read_To_UnRead",data={page:face_value_clicked_page,client:face_value_clicked_client,comment:face_value_clicked_comment!=undefined?face_value_clicked_comment:"",type:face_value_clicked_mess_post},async=!0,error=function(){notiError()},success=function(n){n!="0"&&Face_Exchange_Update_Item_Read_To_Unread(face_value_clicked_conver_id)})}function Face_Update_UnRead_To_Read(){let n=$("#clientname_"+face_value_current_conver_id).html();AjaxLoad(url="/Facebook/Messenger/?handler=Face_Make_UnRead_To_Read",data={page:face_value_current_page,client:face_value_current_client,client_name:n,comment:face_value_current_comment!=undefined?face_value_current_comment:"",type:face_value_current_mess_post},async=!0,error=function(){notiError()},success=function(n){n!="0"&&Face_Exchange_Update_Item_Unread_To_Read(face_value_current_conver_id)})}function Face_Update_Star(){AjaxLoad(url="/Facebook/Messenger/?handler=Face_Make_Star",data={page:face_value_clicked_page,client:face_value_clicked_client},async=!0,error=function(){notiError()},success=function(n){if(n!="0"){let t=JSON.parse(n);t=="1"?$("#star_"+face_value_clicked_conver_id).show():$("#star_"+face_value_clicked_conver_id).hide()}})}function Face_Create_New_Obj_FromData(n){let i={},t={};t.page=n.page;t.client=n.client;t.client_name=n.client_name;t.type=n.type;t.message=n.message;t.created=n.created;t.updated=n.updated;t.readtime=n.readtime;t.client_to_server=n.client_to_server;t.staff=n.staff;t.tag=n.tag;t.servicecare=n.servicecare;t.discount=n.discount;t.area=n.area;t.url=n.url;t.callbacktime=n.callbacktime;t.ticket=n.ticket;t.star=n.star;t.typeconver=n.typeconver;t.staffname=n.staffname;t.discountname=n.discountname;t.verb=n.verb;t.post_id=n.post_id;t.comment_id=n.comment_id;t.lastexecute=n.lastexecute;let r=n.typeconver=="mess"?n.page+"-"+n.client:n.page+"-"+n.post_id+"-"+n.comment_id;return face_data_conversation_list[r]=t,i.id=r,i.e=t,i}function Face_Create_New_Obj_Mess_Empty_From_Comment(){let t=new Date,i=new Date;i.setDate(i.getDate()-1);let n={},r=face_value_current_page+"-"+face_value_current_client;n.page=face_value_current_page;n.client=face_value_current_client;n.client_name="";n.type="text";n.message="";n.created=t;n.updated=t;n.readtime=t;n.client_to_server=0;n.staff=0;n.tag="";n.servicecare="";n.discount=0;n.area=0;n.callbacktime=i;n.ticket=0;n.star=0;n.typeconver="mess";n.staffname="";n.discountname="";n.verb="";n.url="";n.post_id="";n.comment_id="";n.lastexecute="";face_data_conversation_list[r]=n;Face_Exchange_Create_Mess_To_Top(r,n);Face_Event_Conversation_List_Click();Face_Trigger_Click(r)}function Face_Scroll_Conversation_ToLast(n){if(n==undefined||n==0){var t=document.getElementById("MessengerArea_List");t.scrollTop=0}else setTimeout(()=>{var n=document.getElementById("MessengerArea_List");n.scrollTop=n.scrollHeight})}function Face_Update_When_Comment_Successful(n){AjaxLoad(url="/Facebook/Messenger/?handler=Face_Update_When_Comment_Successful",data={page:face_value_current_page,client:face_value_current_client,comment:face_value_current_comment!=undefined?face_value_current_comment:"",message:n},async=!0,error=null,success=function(){})}function Face_Update_When_Message_Successful(n,t,i){AjaxLoad(i="/Facebook/Messenger/?handler=Face_Update_When_Message_Successful",data={page:face_value_current_page,client:face_value_current_client,type:t,url:i,message:n},async=!0,error=null,success=function(){})}function Face_Send_Comment_Sucessful(n,t,i){Face_Exchange_Move_Mess_To_Top(n);Face_Exchange_Update_Item_Update_Person_Do_Comment(n,t,i);Face_Update_When_Comment_Successful(i)}function Face_Send_Message_Sucessful(n,t,i,r,u){Face_Exchange_Move_Mess_To_Top(n);Face_Exchange_Update_Item_Update_Person_Do(n,t,i,r,u);Face_Update_When_Message_Successful(r,i,u)}jQuery.fn.outerHTML=function(){return jQuery("<div />").append(this.eq(0).clone()).html()};