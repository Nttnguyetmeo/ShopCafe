function SMSSYS_Pending(n,t,i,r,u,f,e,o,s,h,c){try{i=xoa_dau(i);AjaxJWT(url="/api/SMS/Pending",data=JSON.stringify({content:i,phone:t,amount:r,customerID:n,ticketID:e,appID:o,studentID:s,typecare:f,znssms:h}),async=!0,success=function(n){if(n!=="0"){let t=Number(n);typeof c=="function"&&c(t)}})}catch(l){}}function SMSSYS_ActionSend(n,t,i,r,u,f,e,o,s){try{AjaxJWT(url="/api/SMS/Send",data=JSON.stringify({phone:n,content:t,brandname:r,znssms:u,CallbackID:f,CallbackUrl:""}),async=!0,success=function(i){i==="1"?(r!==""?syslog_sms("i",n,r+": "+t):syslog_sms("i",n,t),typeof e=="function"&&e()):i==="-1"?typeof s=="function"&&s():typeof o=="function"&&o()})}catch(h){}}function SMSSYS_MultiAction(n,t,i,r){try{AjaxJWT(url="/api/SMS/SendMulti",data=JSON.stringify({SmsItem:n,BrandName:t,CallbackMultiUrl:""}),async=!0,success=function(n){n==="1"?typeof i=="function"&&i():n==="-1"?typeof _bannedfunc=="function"&&_bannedfunc():typeof r=="function"&&r()})}catch(u){}}function SMSSYS_Getlog(n,t,i,r,u,f,e){try{AjaxJWT(url="/api/SMS/SMSGetLog",data=JSON.stringify({znssms:u,template_id:r,from_time:i,page:t,limit:n}),async=!0,success=function(n){n!="0"?typeof f=="function"&&f(n):typeof e=="function"&&e()})}catch(o){}}function MainCust_AfterChangeCard(n,t){if(t!=undefined&&t.length!=0)for(let i=0;i<t.length;i++)if(t[i].data_card_using!=""){let r=JSON.parse(t[i].data_card_using);r!=undefined&&r.length>0&&SMSSYS_CardAfterChange(n,0-r[0].Amount,r[0].CardID)}}async function SMSSYS_CardAfterChange(n,t,i){return new Promise(()=>{AjaxJWT(url="/api/SMS/afterChange",data=JSON.stringify({customerid:n,amount:formatNumber(t),cardid:i,templatetype:sys_SMSTEMPLATE.CARD}),async=!0,success=function(){})})}async function SMSSYS_AfterPaid(n,t){return new Promise(()=>{let{i=0,r=0,u=0,f=0,e=0,o=0,s=0}=t;AjaxJWT(url="/api/SMS/afterPaid",data=JSON.stringify({customerid:n,paymentid:i,paymentcardid:r,paymentmedid:u,depositid:e,tabid:s,cardid:f,medicineid:o,stupaymentid:0,templatetype:sys_SMSTEMPLATE.PAYMENT}),async=!0,success=function(){})})}async function SMSSYS_AfterApp(n,t){return new Promise(i=>{AjaxJWT(url="/api/SMS/afterAppointment",data=JSON.stringify({customerid:n,appid:t,templatetype:sys_SMSTEMPLATE.APPOINTMENT}),async=!0,success=function(){i()})})}var sys_SMSTEMPLATE={PAYMENT:"SMSContentAfterPayment",CARD:"SMSContentAfterCashback",APPOINTMENT:"SMSContentAfterAppointment"};