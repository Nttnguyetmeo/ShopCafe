function WareDetail_Setting(n,t,i){i==1?($("#DetailImport").hide(),$("#thRemoveProduct").hide()):$("#DetailImport").css("display","flex");$("#ExpiredDay").flatpickr({dateFormat:"d-m-Y",enableTime:!1});$("#Detail_Date").flatpickr({dateFormat:"d-m-Y H:i",enableTime:!0,time_24hr:!0,maxDate:new Date,defaultDate:new Date});$("#txtWare_Amount").divide();switch(t){case 1:$("#ware_des").hide();$("#reason_export").hide();$("#import_amount").show();$("#stock_property").show();$("#stock_itemamount").show();$("#stock_infoamount").css("display","flex");$("#stock_totalamount").show();$("#stock_expiredday").show();$("#wa_header_import").show();$("#wa_header_change").hide();$("#wa_header_export").hide();break;case 2:$("#ware_des").hide();$("#reason_export").show();$("#import_amount").hide();$("#stock_property").show();$("#stock_itemamount").hide();$("#stock_infoamount").hide();$("#stock_totalamount").hide();$("#stock_expiredday").hide();$("#wa_header_import").hide();$("#wa_header_change").hide();$("#wa_header_export").show();break;case 3:$("#ware_des").show();$("#reason_export").hide();$("#import_amount").hide();$("#stock_property").hide();$("#stock_itemamount").hide();$("#stock_infoamount").hide();$("#stock_totalamount").hide();$("#stock_expiredday").hide();$("#wa_header_import").hide();$("#wa_header_change").show();$("#wa_header_export").hide()}let r=$("#StockInfo").outerHeight()-$("#StockProductList").find(".card-header").outerHeight();$("#TableStockProduct").height(r-32);let u=$("#ProductItem").outerHeight()-55;$("#TableProduct").height(u);Number(n)!=0&&$("#btnPrintDetail").show();ItemDetail_Refresh()}function WareDetail_Event(){$("#StockProductBody").on("click",".buttonDeleteClass",function(n){let t=Number($(this).closest("tr")[0].childNodes[0].innerHTML);ItemDetail_DeleteRow(t);n.preventDefault()});$("#StockProductBody").on("click",".buttonEditClass",function(){let n=Number($(this).closest("tr")[0].childNodes[0].innerHTML);ItemDetail_EditRow(n);WareDetail_FocusEditProduct()});$("#dtContentProductBody").on("click",".itemProduct",function(n){n.preventDefault();let t=$(this).attr("data-id");$("#productDetail").dropdown("refresh");$("#productDetail").dropdown("set selected",t.toString());WareDetail_FocusEditProduct()});$(".input-group .remove.icon").on("click",function(n){$(this).parent().siblings().val("");n.stopPropagation()});$("#Header_collapse").on("click",function(){let n=$(this).attr("data-id");$("#"+n).length&&$("#"+n).toggleClass("hidden")});$("#searchingProduct").keyup(function(){$(this).val().length>0&&$(".btn_clear").removeClass("opacity-1");$("#wareSearch .fa-search").hide();$("#wareSearch .spinner-border").show();clearTimeout(data_TimerOnchange);data_TimerOnchange=setTimeout(function(){WareDetail_Search(xoa_dau($("#searchingProduct").val().toLowerCase()).trim())},500)})}function WareDetail_UpdateLastLock(){let i=Number($("#DetailWareID").dropdown("get value")),n=DataComboWare.filter(n=>n.ID==i),t="";t=n&&n.length>0&&"01-01-1900 00:00"!=n[0].LastetLock?n[0].LastetLock:"";$("#lock_date_detail").val(t);let r=Number($("#DetailWareID_To").dropdown("get value"));n=DataComboWare.filter(n=>n.ID==r);t="";t=n&&n.length>0&&"01-01-1900 00:00"!=n[0].LastetLock?n[0].LastetLock:"";$("#lock_date_detail_To").val(t);$("#Detail_Date").flatpickr({dateFormat:"d-m-Y H:i",enableTime:!0,time_24hr:!0,minDate:t,maxDate:new Date,defaultDate:new Date})}function WareDetail_Search(n){if(n=="")ItemDetail_RenderProductList(data_product,"dtContentProductBody");else{let t=data_product.filter(t=>xoa_dau(t.Name.toLowerCase()).includes(n));ItemDetail_RenderProductList(t,"dtContentProductBody");ColorSearchFilterText(n,"itemProduct")}$("#wareSearch .fa-search").show();$("#wareSearch .spinner-border").hide()}function WareDetail_FocusEditProduct(){$("#BodyMain").scrollTo($("#ProductItem").offset().top-50);$("#ProductItem").addClass("border-active");setTimeout(function(){$("#ProductItem").removeClass("border-active")},2e3)}